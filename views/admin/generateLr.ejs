<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Waagn App</title>
    <link rel="stylesheet" href="css/style.css" />
    <script src="js/request.module.js"></script>
    <link
      href="https://fonts.googleapis.com/icon?family=Material+Icons"
      rel="stylesheet"
    />
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <style>
      input {
        padding: 0.8rem;
        font-size: 16px;
      }
    </style>
  </head>

  <body>
    <%- include('../partials/aside.ejs') %>
    <div class="content">
      <div class="header">
        <div class="flex search-bar">
          <input type="text" placeholder="search you query here..." />
          <button><i class="material-icons">search</i></button>
        </div>
        <div style="display: flex; align-items: center">
          <span style="font-weight: 600">Panchanan Deka</span>
          <i class="material-icons" style="font-size: 30px">account_circle</i>
        </div>
      </div>

      <div class="form-container">
        <div class="flex form-header">
          <h2>GENERATE LR</h2>
        </div>

        <div>
          <input type="text" name="" id="" placeholder="Enter order ID..." />
          <button class="btn">Generate</button>
          <button class="btn" id="downloadPdf">Download</button>
        </div>
      </div>

      <div class="flex" style="justify-content: center;">
        <div class="pdf" id="pdf-content">
            <div class="header">
              <img
                src="/img/logo.png"
                height="100"
                width="180"
                alt="Company Logo"
              />
              <div class="company-details">
                <h2>WAAGNX APP</h2>
                <p>123 Shipping Lane, City, Country</p>
                <p>Phone: +123 456 7890 | Email: info@shippingcompany.com</p>
                <p>Website: www.shippingcompany.com</p>
              </div>
            </div>
    
            <div class="details">
              <div class="flex" style="justify-content: space-between">
                <div>
                  <h3>Shipping Details</h3>
                  <p><strong>Shipping ID:</strong> #123456</p>
                  <p><strong>Date:</strong> October 10, 2023</p>
                  <p><strong>From:</strong> Warehouse A, City, Country</p>
                  <p><strong>To:</strong> Customer Address, City, Country</p>
                </div>
                <div>
                  <h3>Shipping Details</h3>
                  <p><strong>Shipping ID:</strong> #123456</p>
                  <p><strong>Date:</strong> October 10, 2023</p>
                  <p><strong>From:</strong> Warehouse A, City, Country</p>
                  <p><strong>To:</strong> Customer Address, City, Country</p>
                </div>
              </div>
    
              <div style="margin-top: 1rem">
                <h2>Items Shipped</h2>
                <table>
                  <thead>
                    <tr>
                      <th>Item</th>
                      <th>Quantity</th>
                      <th>Weight</th>
                      <th>Price</th>
                    </tr>
                  </thead>
                  <tbody>
                    <tr>
                      <td>Package 1</td>
                      <td>2</td>
                      <td>5 kg</td>
                      <td>$50.00</td>
                    </tr>
                    <tr>
                      <td>Package 2</td>
                      <td>1</td>
                      <td>3 kg</td>
                      <td>$30.00</td>
                    </tr>
                  </tbody>
                </table>
              </div>
    
              <div style="margin-top: 2rem;">
                <h2>Total</h2>
                <p><strong>Total Weight:</strong> 8 kg</p>
                <p><strong>Total Cost:</strong> $80.00</p>
              </div>
            </div>
          </div>
      </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2pdf.js/0.10.1/html2pdf.bundle.min.js"></script>
    <script>
      document
        .getElementById("downloadPdf")
        .addEventListener("click", function () {
          const element = document.getElementById("pdf-content"); // The HTML content to convert
          const options = {
            margin: 5,
            filename: "Shipping_Details.pdf",
            image: { type: "jpeg", quality: 0.98 },
            html2canvas: { scale: 2 },
            jsPDF: { unit: "mm", format: "a4", orientation: "portrait" },
          };

          html2pdf().from(element).set(options).save();
        });
    </script>

    <script src="/js/common.js"></script>
    <script src="/js/order.js"></script>
  </body>
</html>
